(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[915],{8874:function(e,t,n){Promise.resolve().then(n.bind(n,8841))},8841:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var a=n(7437),r=n(2265);function o(){let[e,t]=(0,r.useState)(null),[n,o]=(0,r.useState)(1),[c,u]=(0,r.useState)("2024/2025");async function i(){var t;let a=localStorage.getItem("token");if(!(null==e?void 0:null===(t=e.grades)||void 0===t?void 0:t.length))return alert("Data nilai belum ada");let r=e.grades[0].studentId,o="/api/report/".concat(r,"/pdf?semester=").concat(n,"&tahun=").concat(encodeURIComponent(c)),u=await fetch(o,{headers:{Authorization:"Bearer ".concat(a)}}),i=await u.blob(),l=document.createElement("a");l.href=URL.createObjectURL(i),l.download="rapor_".concat(n,".pdf"),l.click()}return(0,r.useEffect)(()=>{let e=localStorage.getItem("token");(async()=>{let a=await fetch("/api/student/grades?semester=".concat(n,"&tahun=").concat(encodeURIComponent(c)),{headers:{Authorization:"Bearer ".concat(e)}});t(await a.json())})()},[n,c]),(0,a.jsxs)("div",{style:{padding:24},children:[(0,a.jsx)("h2",{children:"Dashboard Siswa/Orang Tua"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"number",value:n,onChange:e=>o(Number(e.target.value))}),(0,a.jsx)("input",{value:c,onChange:e=>u(e.target.value)}),(0,a.jsx)("button",{onClick:i,children:"Cetak Rapor (PDF)"})]}),(0,a.jsx)("pre",{style:{background:"#f8f8f8",padding:12},children:JSON.stringify(e,null,2)})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=8874)}),_N_E=e.O()}]);