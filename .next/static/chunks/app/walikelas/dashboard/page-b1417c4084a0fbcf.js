(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{7080:function(e,t,a){Promise.resolve().then(a.bind(a,9857))},9857:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return s}});var n=a(7437),l=a(2265);function s(){let[e,t]=(0,l.useState)(null),[a,s]=(0,l.useState)(null),[i,r]=(0,l.useState)(""),[o,u]=(0,l.useState)(""),[d,h]=(0,l.useState)(1),[c,p]=(0,l.useState)("2024/2025"),x=localStorage.getItem("token");async function m(){if(!e||!x)return;let t=new FormData;t.append("file",e);let a=await fetch("/api/walikelas/absensi/import",{method:"POST",headers:{Authorization:"Bearer ".concat(x)},body:t}),n=await a.json();alert(a.ok?"OK":n.message)}async function f(){if(!a||!x)return;let e=new FormData;e.append("file",a);let t=await fetch("/api/walikelas/eskul/import",{method:"POST",headers:{Authorization:"Bearer ".concat(x)},body:e}),n=await t.json();alert(t.ok?"OK":n.message)}async function j(){if(!x)return;let e=await fetch("/api/walikelas/remarks",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(x)},body:JSON.stringify({nisn:i,semester:d,tahun:c,note:o})}),t=await e.json();alert(e.ok?"OK":t.message)}return(0,n.jsxs)("div",{style:{padding:24},children:[(0,n.jsx)("h2",{children:"Dashboard Wali Kelas"}),(0,n.jsxs)("div",{style:{margin:"12px 0"},children:[(0,n.jsx)("a",{href:"/templates/TEMPLATE_ABSENSI.xlsx",download:!0,children:"Unduh Template Absensi"})," \xa0|\xa0",(0,n.jsx)("a",{href:"/templates/TEMPLATE_ESKUL.xlsx",download:!0,children:"Unduh Template Eskul"})]}),(0,n.jsxs)("div",{style:{marginBottom:16},children:[(0,n.jsx)("h4",{children:"Import Absensi (Sheet: Absensi)"}),(0,n.jsx)("input",{type:"file",accept:".xlsx,.xls",onChange:e=>{var a;return t((null===(a=e.target.files)||void 0===a?void 0:a[0])||null)}}),(0,n.jsx)("button",{onClick:m,children:"Upload"})]}),(0,n.jsxs)("div",{style:{marginBottom:16},children:[(0,n.jsx)("h4",{children:"Import Ekstrakurikuler (Sheet: Eskul)"}),(0,n.jsx)("input",{type:"file",accept:".xlsx,.xls",onChange:e=>{var t;return s((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)}}),(0,n.jsx)("button",{onClick:f,children:"Upload"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{children:"Catatan Wali Kelas"}),(0,n.jsx)("input",{placeholder:"NISN",value:i,onChange:e=>r(e.target.value)}),(0,n.jsx)("input",{placeholder:"Semester",type:"number",value:d,onChange:e=>h(Number(e.target.value))}),(0,n.jsx)("input",{placeholder:"Tahun (2024/2025)",value:c,onChange:e=>p(e.target.value)}),(0,n.jsx)("textarea",{placeholder:"Catatan",value:o,onChange:e=>u(e.target.value)}),(0,n.jsx)("button",{onClick:j,children:"Simpan"})]})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=7080)}),_N_E=e.O()}]);