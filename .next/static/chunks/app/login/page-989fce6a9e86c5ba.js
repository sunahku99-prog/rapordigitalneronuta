(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{7169:function(e,a,n){Promise.resolve().then(n.bind(n,6374))},6374:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return o}});var t=n(7437),i=n(2265);function o(){let[e,a]=(0,i.useState)("EMAIL"),[n,o]=(0,i.useState)("admin@sekolah.local"),[d,r]=(0,i.useState)("1234567890"),[s,l]=(0,i.useState)("admin123");async function u(){let a="SISWA_NISN"===e?{mode:"SISWA_NISN",nisn:d,password:s}:{mode:"EMAIL",email:n,password:s},t=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),i=await t.json();if(!t.ok)return alert(i.message);localStorage.setItem("token",i.token),document.cookie="token=".concat(i.token,"; path=/; max-age=").concat(28800);let o=i.user.role;location.href="ADMIN"===o?"/admin/dashboard":"GURU"===o?"/guru/dashboard":"WALI_KELAS"===o?"/walikelas/dashboard":"/siswa/dashboard"}return(0,t.jsxs)("div",{style:{maxWidth:480,margin:"40px auto",padding:24,border:"1px solid #eee",borderRadius:8,background:"#fafafa"},children:[(0,t.jsx)("h2",{children:"Login Rapor Digital"}),(0,t.jsxs)("div",{style:{margin:"8px 0"},children:[(0,t.jsxs)("label",{children:[(0,t.jsx)("input",{type:"radio",checked:"EMAIL"===e,onChange:()=>a("EMAIL")})," Admin/Guru/Wali via Email"]}),(0,t.jsx)("br",{}),(0,t.jsxs)("label",{children:[(0,t.jsx)("input",{type:"radio",checked:"SISWA_NISN"===e,onChange:()=>a("SISWA_NISN")})," Siswa via NISN"]})]}),"EMAIL"===e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{placeholder:"Email",value:n,onChange:e=>o(e.target.value),style:{width:"100%",padding:8,margin:"8px 0"}}),(0,t.jsx)("input",{placeholder:"Password",value:s,type:"password",onChange:e=>l(e.target.value),style:{width:"100%",padding:8,margin:"8px 0"}})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{placeholder:"NISN",value:d,onChange:e=>r(e.target.value),style:{width:"100%",padding:8,margin:"8px 0"}}),(0,t.jsx)("input",{placeholder:"Password",value:s,type:"password",onChange:e=>l(e.target.value),style:{width:"100%",padding:8,margin:"8px 0"}})]}),(0,t.jsx)("button",{onClick:u,style:{padding:"8px 12px",background:"#6c8",color:"#fff",border:0,borderRadius:6},children:"Login"})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=7169)}),_N_E=e.O()}]);