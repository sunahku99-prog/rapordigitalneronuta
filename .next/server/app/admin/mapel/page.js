(()=>{var e={};e.id=425,e.ids=[425],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},67080:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>s.a,__next_app__:()=>u,originalPathname:()=>c,pages:()=>p,routeModule:()=>m,tree:()=>d}),a(27401),a(11506),a(35866);var r=a(23191),i=a(88716),n=a(37922),s=a.n(n),o=a(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);a.d(t,l);let d=["",{children:["admin",{children:["mapel",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,27401)),"D:\\rapor-digital\\rapor-digital\\app\\admin\\mapel\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,11506)),"D:\\rapor-digital\\rapor-digital\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],p=["D:\\rapor-digital\\rapor-digital\\app\\admin\\mapel\\page.tsx"],c="/admin/mapel/page",u={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/admin/mapel/page",pathname:"/admin/mapel",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},28941:(e,t,a)=>{Promise.resolve().then(a.bind(a,52882))},88236:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,12994,23)),Promise.resolve().then(a.t.bind(a,96114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,79671,23)),Promise.resolve().then(a.t.bind(a,41868,23)),Promise.resolve().then(a.t.bind(a,84759,23))},35303:()=>{},52882:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var r=a(10326),i=a(17577),n=a(59872);function s(){let[e,t]=(0,i.useState)([]),[a,s]=(0,i.useState)(""),[o,l]=(0,i.useState)(""),[d,p]=(0,i.useState)(null);async function c(){let e=await (0,n.S)("/api/admin/subjects");t((await e.json()).subjects||[])}async function u(){if(!a||!o)return alert("Isi kode & nama");if(d){if(!(await (0,n.S)("/api/admin/subjects",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:d,code:a,name:o})})).ok)return alert("Gagal update")}else if(!(await (0,n.S)("/api/admin/subjects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:a,name:o})})).ok)return alert("Gagal tambah");s(""),l(""),p(null),c()}async function m(e){if(confirm("Hapus mapel?")){if(!(await (0,n.S)("/api/admin/subjects",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})})).ok)return alert("Gagal hapus");c()}}return(0,r.jsxs)("div",{style:{padding:24},children:[r.jsx("h2",{children:"Pengelola Mapel"}),(0,r.jsxs)("div",{style:{display:"flex",gap:8,margin:"12px 0"},children:[r.jsx("input",{placeholder:"Kode (ex: MAT)",value:a,onChange:e=>s(e.target.value)}),r.jsx("input",{placeholder:"Nama Mapel",value:o,onChange:e=>l(e.target.value)}),r.jsx("button",{onClick:u,children:d?"Update":"Tambah"}),d&&r.jsx("button",{onClick:()=>{p(null),s(""),l("")},children:"Batal"})]}),(0,r.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{children:[r.jsx("th",{style:{borderBottom:"1px solid #ddd"},children:"Kode"}),r.jsx("th",{style:{borderBottom:"1px solid #ddd"},children:"Nama"}),r.jsx("th",{style:{borderBottom:"1px solid #ddd"},children:"Aksi"})]})}),r.jsx("tbody",{children:e.map(e=>(0,r.jsxs)("tr",{children:[r.jsx("td",{style:{borderBottom:"1px solid #f0f0f0"},children:e.code}),r.jsx("td",{style:{borderBottom:"1px solid #f0f0f0"},children:e.name}),(0,r.jsxs)("td",{style:{borderBottom:"1px solid #f0f0f0"},children:[r.jsx("button",{onClick:()=>{p(e.id),s(e.code),l(e.name)},children:"Edit"})," ",r.jsx("button",{onClick:()=>m(e.id),children:"Hapus"})]})]},e.id))})]})]})}},59872:(e,t,a)=>{"use strict";async function r(e,t={}){let a=new Headers(t.headers||{});return fetch(e,{...t,headers:a})}a.d(t,{S:()=>r})},27401:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(68570).createProxy)(String.raw`D:\rapor-digital\rapor-digital\app\admin\mapel\page.tsx#default`)},11506:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n,metadata:()=>i});var r=a(19510);a(71159);let i={title:"Rapor Digital"};function n({children:e}){return r.jsx("html",{lang:"id",children:r.jsx("body",{children:e})})}}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[276,471],()=>a(67080));module.exports=r})();